<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Lista de Pacientes</title>
    </head>
    <body>
        <!-- ======= Header ======= -->
        <header id="header" class="fixed-top">
            <div class="container d-flex align-items-center">
                <h1 class="logo me-auto"><a th:href="@{/}">Medifour</a></h1>
                <!-- Uncomment below if you prefer to use an image logo -->
                <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
            </div>
        </header>
        <!-- End Header -->
        <h1>Lista de Pacientes</h1>
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>DNI</th>                    
                    <th>Telefono</th>
                    <th>E-Mail</th>
                    <th>Fecha de Nacimiento</th>
                    <th>Obra Social</th>
                    <th>N° de Afiliado</th>
                    <th>Foto de Perfil</th>
                    <th>ACCIONES</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="paciente : ${pacientes}">
                    <td th:text="${paciente.nombre}"></td>
                    <td th:text="${paciente.apellido}"></td>
                    <td th:text="${paciente.dni}"></td>
                    <td th:text="${paciente.telefono}"></td>
                    <td th:text="${paciente.email}"></td>
                    <td th:text="${paciente.fechaNacimiento}"></td>
                    <td th:text="${paciente.obraSocial}"></td>
                    <td th:text="${paciente.numeroAfiliado}"></td>
                    <td>
                        <a th:if="${paciente.imagen != null}" th:href="@{/imagen/perfil/__${paciente.id}__}">
                            <img th:style="'width: 10%; margin: auto;'" th:src="@{/imagen/perfil/__${paciente.id}__}">
                        </a>
                    </td>



                    <td style="text-align: center; vertical-align: middle;">
                        <form th:action="@{/paciente/bajaPaciente/{id}(id=${paciente.id})}" method="get">
                            <input type="submit" value="Dar de Baja">
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>



        <!-- <div class="container m-5" >

            <table class="table table-dark">
                <thead>
                    <tr>
                        <th scope="col">Id del Autor</th>
                        <th scope="col">Nombre del Autor</th>
                        <th scope="col" sec:authorize="hasAuthority('ADMIN')">Acciones</th>

                    </tr>
                </thead>
                <tbody th:each="autor : ${autores}"> 
                    <tr>
                        <th scope="row" th:text="${autor.id}"></th>
                        <td th:text="${autor.nombre}"></td>
                        <td>
                            <a sec:authorize="hasAuthority('ADMIN')" th:href= "@{/autor/modificar/__${autor.id}__}"><i class="fas fa-feather-alt">  </i> Modificar </a>
                        </td>

                    </tr>

                </tbody>
            </table>

            <div th:if="${exito}!=null" class="card text-white bg-success mb-3 mt-3 mensajeExito" >
                <div class="card-body">
                    <h5 class="card-title">Exito ð</h5>
                    <p class="card-text" th:text="${exito}"></p>
                </div>
            </div>
            <div th:if="${error}!=null" class="card text-white bg-danger mb-3 mensajeError" >
                <div class="card-body">
                    <h5 class="card-title">Error ð</h5>
                    <p class="card-text" th:text="${error}"></p>
                </div>
            </div> 
        
        -->


        <section class="py-5 text-center container">
            <div class="row py-lg-5">
                <div class="col-lg-6 col-md-8 mx-auto">
                    <a th:href="@{/}" class="btn btn-secondary my-2">Volver</a>
                    </p>
                </div>
            </div>
        </section>


    </body>
</html>



